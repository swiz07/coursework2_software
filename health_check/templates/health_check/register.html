<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    {% load static %}
    <link rel="stylesheet" href="{% static 'health_check/css/style.css' %}">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <style>
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-left">
            <a href="{% url 'home' %}">
                <img src="{% static 'health_check/images/logo.png' %}" alt="Sky Logo" class="logo">
            </a>
        </div>
    </nav>

    <div class="center">
        <form method="POST">
            {% csrf_token %}
            <div class="register-container">
                <div class="step-indicator">
                    <span class="active">1</span>
                    <span>2</span>
                    <span>3</span>
                    <span>4</span>  
                </div>
                <div class="step active" id="step1">
                    <p class="mt-2">STEP 1</p>
                    <label for="username" class="required d-block">Username:</label>
                    <input type="text" name="username" required>

                    <label for="email" class="required d-block">Email address</label>
                    <input type="email" name="email" id="email" required>

                    <label for="password" minlength="8" class="d-block required">Password</label>
                    <input type="password" id="psw" name="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required>

                    <div id="message">
                        <h3>Password must contain the following:</h3>
                        <p id="letter" class="invalid">A <b>lowercase</b> letter</p>
                        <p id="capital" class="invalid">A <b>capital (uppercase)</b> letter</p>
                        <p id="number" class="invalid">A <b>number</b></p>
                        <p id="length" class="invalid">Minimum <b>8 characters</b></p>
                      </div>
                      
                    <label for="password" minlength="8" class="required d-block">Confirm Password:</label>
                    <input type="password" name="confirm-password" required>
                </div>
                <div class="step" id="step2">
                    <p>STEP 2</p>
                    <p class="required">Select your role:</p>
                    <div class="role-buttons">
                        <!-- Engineer Option -->
                        <label class="role-option">
                            <input type="radio" id="engineer" name="role" value="Engineer" onclick="noTeamView()">
                            <img src="{% static 'health_check/images/engineer.png' %}" alt="engineer Icon">
                            <span>Engineer</span>
                        </label>

                        <!-- Team Leader Option -->
                        <label class="role-option">
                            <input type="radio" id="team-leader" name="role" value="Team Leader" onclick="noTeamView()">
                            <img src="{% static 'health_check/images/team_leader_icon.png' %}" alt="Team Leader Icon">
                            <span>Team Leader</span>
                        </label>

                         <!-- Department Leader Option -->
                         <label class="role-option">
                            <input type="radio" id="department-leader" name="role" value="Department Leader" onclick="noTeamView()">
                             <img src="{% static 'health_check/images/department-leader.png' %}" alt="Department Leader Icon">
                             <span>Department Leader</span>
                         </label>
                        
                        <!-- Senior Manager Option -->
                        <label class="role-option">
                            <input type="radio" id="senior-manager" name="role" value="Senior Manager" onclick="noTeamView()">
                            <img src="{% static 'health_check/images/senior_manager_icon.png' %}" alt="Senior Manager Icon">
                            <span>Senior Manager</span>
                        </label>
                
                    </div>
                </div>
                <div class="step" id="step3">
                    <p>STEP 3</p>
                    <label for="name" class="required d-block">Name:</label>
                    <input type="text" name="name" required>
                    
                    <label for="phone" class="required d-block">Phone Number:</label>
                    <input type="number" name="phone" placeholder="+44" required size="20" >

                    <label for="address" class="required d-block">Address:</label>
                    <input type="text" name="address" required>
                </div>
                <div class="step" id="step4">


                    <!--
                         * Title:How to do a multiple dependent dropdown Django form
                         * Author: Andre Perez
                         * Date: 9 sep 2021
                         * Code version: --  
                        * Availability:https://medium.aptechnology.dev/how-to-do-a-multiple-dependent-dropdown-django-form-10754cc5becc
                    */-->

                    <p>STEP 4</p>
                    <label for="department" class="required d-block">Select Department:</label>
                    <select name="department" id="id_department" class="form-select" required data-url="{% url 'ajax_load_teams' %}">
                        <option value="">Select a department</option>
                        {% for department in departments %}
                        <option value="{{ department.department_id }}">{{ department.department_name }}</option>
                        {% endfor %}
                    </select>
                     <div id="teams">
                        <label for="team" class="required d-block mt-3">Select Team:</label>
                        <select name="team" id="id_team" class="form-select" required>
                            <option value="">Select a team</option>
                        
                        </select>
                    </div>
                </div> 
                <div class="buttons">
                    <button type="button" id="prev-btn" onclick="prevStep()" disabled>Previous</button>
                    <button type="button" id="next-btn" onclick="nextStep()">Next</button>
                </div>
                <span id="result"></span>
            </div>
            <div class="form-check mt-3">
                <input class="form-check-input" type="checkbox" id="id_consent" name="consent">
                <label class="form-check-label" for="id_consent">
                  I agree to the <a href="{% url 'privacy_policy' %}" target="_blank">Terms of Use</a> and consent to the processing of my data.
                </label>
              </div>
        </form>
    </div>
    <script src="{% static 'health_check/js/script.js' %}"></script>
</body>
</html>
